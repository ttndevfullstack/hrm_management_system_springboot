<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--      layout:decorate="~{layout}">-->
<!--<head>-->
<!--    <title th:text="${title} ?: 'Product'">Product</title>-->
<!--    <link rel="stylesheet"-->
<!--          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">-->
<!--    <style>-->
<!--        body {-->
<!--            background-color: #f8f9fa;-->
<!--            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;-->
<!--        }-->
<!--        .table-hover tbody tr:hover {-->
<!--            background-color: #e9ecef;-->
<!--        }-->
<!--        .card-header {-->
<!--            background-color: #007bff;-->
<!--            color: white;-->
<!--        }-->
<!--        .btn-warning {-->
<!--            background-color: #ffc107;-->
<!--            border-color: #ffc107;-->
<!--        }-->
<!--        .btn-primary {-->
<!--            background-color: #007bff;-->
<!--            border-color: #007bff;-->
<!--        }-->
<!--        .btn-success {-->
<!--            background-color: #28a745;-->
<!--            border-color: #28a745;-->
<!--        }-->
<!--        .btn-danger {-->
<!--            background-color: #dc3545;-->
<!--            border-color: #dc3545;-->
<!--        }-->
<!--        .table {-->
<!--            border-collapse: separate;-->
<!--            border-spacing: 0 0.5rem;-->
<!--        }-->
<!--        .table th, .table td {-->
<!--            border: none;-->
<!--            vertical-align: middle;-->
<!--        }-->
<!--        .table th {-->
<!--            background-color: #343a40;-->
<!--            color: #ffffff;-->
<!--        }-->
<!--        .table img {-->
<!--            border-radius: 0.25rem;-->
<!--        }-->
<!--        .container {-->
<!--            background: white;-->
<!--            padding: 30px;-->
<!--            border-radius: 10px;-->
<!--            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);-->
<!--        }-->
<!--        .card {-->
<!--            border: none;-->
<!--        }-->
<!--        .card-title {-->
<!--            margin-bottom: 0;-->
<!--        }-->
<!--        .d-flex.justify-content-between.mb-3 {-->
<!--            align-items: center;-->
<!--        }-->
<!--        .d-flex.align-items-center {-->
<!--            align-items: center;-->
<!--        }-->
<!--        .form-control {-->
<!--            border-radius: 0.25rem;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<section layout:fragment="content">-->
<!--    <div class="container mt-4">-->
<!--        <div class="card shadow-sm">-->
<!--            <div class="card-header">-->
<!--                <h1>Products List</h1>-->
<!--            </div>-->
<!--            <div class="card-body">-->
<!--                <div class="d-flex justify-content-between mb-3">-->
<!--                    <h5 class="card-title">Manage your products</h5>-->
<!--                    <a th:href="@{/products/add}" class="btn btn-primary">Add New Product</a>-->
<!--                </div>-->
<!--                <table class="table table-hover">-->
<!--                    <thead>-->
<!--                    <tr>-->
<!--                        <th>ID</th>-->
<!--                        <th>Name</th>-->
<!--                        <th>Image</th>-->
<!--                        <th>Price</th>-->
<!--                        <th>Description</th>-->
<!--                        <th>Category Name</th>-->
<!--                        <th>Actions</th>-->
<!--                        <th>Add To Cart</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="product : ${products}">-->
<!--                        <td th:text="${product.id}"></td>-->
<!--                        <td th:text="${product.name}"></td>-->
<!--                        <td>-->
<!--                            <img height="120" width="150" th:src="@{/images/} + ${product.image}" alt="Product-image" class="img-thumbnail">-->
<!--                        </td>-->
<!--                        <td th:text="${product.price}"></td>-->
<!--                        <td th:text="${product.description}"></td>-->
<!--                        <td th:text="${product.category.name}"></td>-->
<!--                        <td>-->
<!--                            <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-success btn-sm">Edit</a>-->
<!--                            <a th:href="@{/products/delete/{id}(id=${product.id})}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">Delete</a>-->
<!--                        </td>-->
<!--                        <td>-->
<!--                            <form th:action="@{/cart/add}" method="post" class="d-flex align-items-center">-->
<!--                                <input type="number" name="quantity" min="1" value="1" class="form-control form-control-sm me-2" style="width: 70px;">-->
<!--                                <input type="hidden" th:value="${product.id}" name="productID"/>-->
<!--                                <button type="submit" class="btn btn-warning btn-sm">Add to Cart</button>-->
<!--                            </form>-->
<!--                        </td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</section>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security5"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title th:text="${title} ?: 'Products List'">Products List</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        /* Add some basic styling for the page */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .table-hover tbody tr:hover {
            background-color: #e9ecef;
        }

        .table img {
            border-radius: 0.25rem;
        }

        .card {
            border: none;
        }

        .card-title {
            margin-bottom: 0;
        }

        .d-flex.justify-content-between.mb-3 {
            align-items: center;
        }

        .d-flex.align-items-center {
            align-items: center;
        }

        .form-control {
            border-radius: 0.25rem;
        }

        /* Remove table border */
        .table {
            border-collapse: collapse; /* Collapse borders for a seamless look */
        }

        .table th, .table td {
            border: none; /* Remove individual cell borders */
            vertical-align: middle;
        }
    </style>
</head>
<body>
<section layout:fragment="content">
    <div class="container mt-4">
        <div class="card shadow-sm">
            <div class="card-header">
                <h1 class="card-title">Products List</h1>
            </div>
            <div class="card-body">
                <table class="table table-hover">
                    <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Image</th>
                        <th>Price</th>
                        <th>Description</th>
                        <th>Category Name</th>
                        <th sec:authorize="hasAuthority('ADMIN')">Actions</th>
                        <th>Add To Cart</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="product : ${products}">
                        <td th:text="${product.id}"></td>
                        <td th:text="${product.name}"></td>
                        <td>
                            <img height="120" width="150" th:src="@{/images/} + ${product.image}" alt="Product-image" class="img-thumbnail">
                        </td>
                        <td th:text="${product.price}"></td>
                        <td th:text="${product.description}"></td>
                        <td th:text="${product.category.name}"></td>
                        <td>
                            <!-- Hiển thị nút sửa và xóa chỉ dành cho người dùng ADMIN -->
                            <div sec:authorize="hasAuthority('ADMIN')">
                                <a th:href="@{/products/edit/{id}(id=${product.id})}"
                                   class="btn btn-success btn-sm">Sửa</a>
                                <a th:href="@{/products/delete/{id}(id=${product.id})}"
                                   class="btn btn-danger btn-sm" onclick="return confirm('Bạn có chắc muốn xóa không?')">Xóa</a>
                            </div>
                        </td>
                        <td>
                            <!-- Nút thêm vào giỏ hàng, hiển thị cho tất cả người dùng đã xác
                            thực -->
                            <form th:action="@{/cart/add}" method="post"
                                  sec:authorize="isAuthenticated()">
                                <input type="number" name="quantity" min="1" value="1"
                                       class="form-control d-inline-block" style="width: 70px;">
                                <input type="hidden" th:value="${product.id}"
                                       name="productID"/>
                                <button type="submit" class="btn btn-warning btn-sm">Thêm Vào Giỏ</button>
                            </form>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
</body>
</html>
